# CLI 模块的设计

## 职责

分层，把 CLI 格式的输入按 control 层的接口适配，做多个字符串拼接，默认参数补全等操作

## 单例模式

- 注册的命令，适合做全局管理

## 表驱动

- 在 app 层制作一个命令表映射，key = 命令名，value = pre-defined 函数指针
- 对于外界的 cli args 输入，app 层在注册后，调用 dispatch 函数，让命令表在输入语境下执行

### 优点

- 通过注册机制，增添 / 删除命令比较灵活，只需要改动 app 层，是符合开闭原则的
